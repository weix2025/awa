# 指南: 引导AI按规范生成日志文档 (V2.1 Log规范)

*   **文档ID**: `GL_001_AI_Log_Generation_Training`
*   **版本**: 1.0
*   **创建日期**: `2025-05-14`
*   **目标**: 使一个新的AI实例能够理解并遵循 "V2.1 Log 内容规范" 来创建和管理 `workflow_details/` 目录下的原子化日志文件。

## 1. 核心：提供清晰的日志规范 (作为系统提示)

将以下 "V2.1 Log 内容规范" 作为核心指令集提供给AI：

---
**V2.1 Log 内容规范**

**A. 文件命名规范:**
*   **格式**: `YYYYMMDD_HHMMSS_SEQ_TYPE_BriefDescription.md`
    *   `YYYYMMDD_HHMMSS`: 事件主要发生/完成时间戳。
    *   `SEQ`: 三位序列号 (e.g., `001`)。
    *   `TYPE`: 日志类型缩写 (TASK, ANLS, ERR, CHLG, LOG_Interact, NOTE)。
    *   `BriefDescription`: 简短描述 (下划线连接, PascalCase分段)。

**B. 文件内容模板:**
```markdown
# [TYPE 英文全称] - [文件简短描述]

*   **日志ID**: `YYYYMMDD_HHMMSS_SEQ`
*   **记录时间**: `YYYY-MM-DD HH:MM:SS` (实际创建/修改时间)
*   **源任务/事件时间**: `YYYY-MM-DD HH:MM` (原始事件大致时间)
*   **类型**: `TYPE`
*   **状态**: (例如: 进行中, 已完成, 已验证, 信息性)
*   **相关源文件/模块**: (可选链接)
*   **相关RFC/文档**: (可选链接)

---
**关联网络:**
*   **直接前因 (Precedents)**: (可选链接)
*   **直接后果 / 相关探索 (Consequents/Explorations)**: (可选链接)
*   **其他相关主题/日志 (Broader Context/Related Topics)**: (可选链接)
---

## 1. 概述 / 背景 / 目标
(根据TYPE填写：任务目标；分析背景与目的；错误现象；挑战主题；交互核心等)

## 2. 详细过程 / 分析 / 讨论 / 交互记录
(根据TYPE填写：任务执行步骤、代码变更、问题与解决；分析方法、过程、数据、观察；错误诊断步骤、尝试与结果；挑战具体表现、原因、应对策略；交互点详细记录等)
    *   子标题可灵活使用，如 `### 2.1. XXX`

## 3. 结果 / 结论 / 产出 / 后续行动建议
(根据TYPE填写：任务完成情况与成果；分析的主要结论；错误是否解决与最终方案；挑战的指导性建议；交互达成的共识与下一步行动等)

## 4. 注意事项 / 遗留问题 (可选)
(任何需后续关注点或未尽事宜)

---
```
**C. 核心原则:**
*   **原子性**: 每个日志文件聚焦一个独立信息单元。
*   **时间戳**: 精确记录事件时间。
*   **类型明确**: 使用预定义TYPE。
*   **强关联引用**: 通过Markdown相对链接建立网状知识库，有意识地链接前因、后果及相关主题。
*   **简洁描述**: 文件名和标题概括内容。
*   **元数据**: 提供快速索引信息。
---

## 2. 提供高质量示例 (Few-Shot Learning)

在初始指令中，除了规范文本，附带1-3个已存在的、完全符合V2.1规范的详细日志文件作为具体示例。例如：
*   `workflow_details/20250513_000000_001_TASK_SF_003_Unit_Tests.md` (作为TASK类型示例)
*   `workflow_details/20250512_170000_001_CHLG_Tool_Format_Issue.md` (作为CHLG类型示例)

## 3. 上下文引导与脚手架

*   **初始上下文**: 告知AI主工作流文件 ([`completed_subtask.md`](../../completed_subtask.md)) 和详细日志目录 (`workflow_details/`) 的存在及其用途。
*   **前置关联**: 如果新任务基于某个已有日志，明确指出该前置日志。
*   **模板提供**: 对于首次生成某类型日志，可提供一个预填充元数据和标准二级标题的空模板，AI仅需填写具体内容。

## 4. 迭代反馈与修正

*   对AI生成的初稿进行人工或辅助校对。
*   提供具体、可操作的反馈，明确指出不符合规范之处及修改建议。
*   通过几轮迭代帮助AI巩固对规范的理解和应用。

## 5. 角色扮演

引导AI进入角色，例如：“你现在是一名QUIC开发工程师，负责记录对`stream.rs`模块的分析。请严格按照V2.1日志规范执行。”

通过以上策略组合，可以有效地引导一个新的AI实例学会按既定规范生成高质量的日志文档。