(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1763],{54158:function(e,t,n){Promise.resolve().then(n.bind(n,85666))},85666:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var i=n(27573),a=n(89755),r=n(45790),o=n(80700),s=n(80414),l=n(37607),c=n(28803),d=n(6415),u=n(27895),v=n(70354),m=n(51408),g=n(31505),f=n(10607),p=n(86973),_=n(81695),h=n(7653),x=n(40950),b=n(4703),y=n(76742),w=n(91983),k=n(37499),j=n(32737);function S(e){let{itemName:t,isInSelectionMode:n,isSelected:a,handleSelect:r,checkboxOffset:o,children:s,hiddenAndDisabled:l=!1}=e;return(0,i.jsxs)("div",{className:"relative group/row",children:[l?null:(0,i.jsx)("div",{className:(0,f.Z)("p-1 absolute z-10 top-1/2 -translate-y-1/2 -translate-x-1/2 transition duration-100 ",o,!n&&" opacity-0 scale-75 group-has-[:focus-visible]/row:opacity-100 group-has-[:focus-visible]/row:scale-100 group-hover/row:opacity-100 group-hover/row:scale-100"),children:(0,i.jsx)(j.u,{tooltipContent:a?"Deselect ".concat(t):"Select ".concat(t),className:"pointer-events-none",children:(0,i.jsx)("div",{children:(0,i.jsx)(k.X,{disabled:l,checked:a,onChange:r,label:"Select ".concat(t),hideLabel:!0})})})}),s]})}var C=n(36041),N=n(71923);let M={includeScore:!0,isCaseSensitive:!1,ignoreLocation:!0,threshold:.4,keys:["name"]},z=()=>{var e;let t=(0,x.Z)(),n=(0,_.useRouter)(),a=(0,_.useSearchParams)().get("search"),o=null!==a&&""!==a,[s,l]=(0,h.useState)(o),b=s||o,{data:k,isLoading:j}=(0,c.QR)({limit:b?c.bf:c.V0}),{data:S}=(0,c.m)(),[z,Z]=(0,h.useState)(!1),[I,D]=(0,h.useState)(0),[P,O]=(0,h.useState)(!1),{mutate:T}=(0,c.f7)(),{addError:L}=(0,u.e)(),R=async e=>{let n=Math.ceil(e.length/20);O(!0);let i=0;for(let t=0;t<n;t++){let a=20*t,r=e.slice(a,a+20);T({conversation_uuids:r}),D((t+1)/n),i+=r.length,await new Promise(e=>setTimeout(e,500))}i!==e.length&&L(t.formatMessage({defaultMessage:"We weren’t able to delete all conversations. Please try again.",id:"hfpD6PdmmB"})),O(!1),D(0)},{data:A}=(0,c.gm)(),F=(0,h.useMemo)(()=>new Set((null==A?void 0:A.map(e=>e.conversation_uuid))||[]),[A]),q=(0,h.useMemo)(()=>new p.Z(null!=k?k:[],M),[k]),J=(0,h.useMemo)(()=>o?q.search(a):(null!=k?k:[]).map(e=>({item:e,score:0})),[o,q,a,k]),K=(0,h.useMemo)(()=>J.sort((e,t)=>{if(void 0===e.score||void 0===t.score)return 0;if(e.score>t.score)return 1;if(e.score<t.score)return -1;let n=t.item.updated_at,i=e.item.updated_at;return n.localeCompare(i)}).map(e=>{let{item:t}=e;return t}),[J]),V=(0,h.useMemo)(()=>(null!=k?k:[]).map(e=>({uuid:e.uuid,type:"conversation"})),[k]),{selectedItems:Q,handleSelect:Y,selectAllItems:H,isInSelectionMode:B,toggleSelectMode:G}=(0,y.M)(V),U=(0,h.useRef)(null),W=!b&&void 0!==S&&S.count>c.V0,$=j?0:b?K.length:K.length+(W?1:0),X=(0,g.MG)({count:$,getScrollElement:()=>U.current,estimateSize:()=>80,overscan:10});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N.w,{placeholder:t.formatMessage({defaultMessage:"Search your chats...",id:"CWqRudIKOZ"})}),void 0!==S&&(0,i.jsxs)("div",{className:(0,f.Z)("flex items-center mt-2 mb-1 gap-2 top-0 z-header h-12 -mx-4 px-4",B&&"sticky"),children:[B?(0,i.jsxs)("div",{className:"text-accent-secondary-000 flex items-center gap-1.5 flex-1",children:[(0,i.jsx)(m.z,{size:20}),(0,i.jsx)("div",{className:"max-sm:text-sm",children:(0,i.jsx)(r.Z,{defaultMessage:"<format>{count}</format> selected <format2>{count, plural, one {chat} other {chats}}</format2>",id:"eplvCYS5F6",values:{format:e=>(0,i.jsx)("span",{className:"tabular-nums",children:e}),format2:e=>(0,i.jsx)("span",{className:"max-sm:hidden",children:e}),count:Q.length}})})]}):(0,i.jsxs)("div",{className:"text-text-300 text-sm",children:[o?(0,i.jsx)(r.Z,{defaultMessage:"{count, plural, one {There is # chat} other {There are # chats}} matching “{search}”",id:"2b11u2HVCF",values:{count:K.length,search:a}}):(0,i.jsx)(r.Z,{defaultMessage:"You have {count} previous {count, plural, one {chat} other {chats}} with Claude",id:"yR3XIEsip/",values:{count:null!==(e=S.count)&&void 0!==e?e:" "}}),(0,i.jsx)(v.z,{variant:"underline",className:"text-sm text-accent-secondary-000 mr-2 !opacity-100 ml-1.5",size:"unset",onClick:()=>G(!0),children:(0,i.jsx)(r.Z,{defaultMessage:"Select",id:"kQAf2d9u+x"})})]}),B&&k&&(0,i.jsx)(C.J,{isLoading:P,numSelected:Q.length,totalNumItems:k.length,handleSelectAll:H,handleCancel:()=>G(!1),handleDeleteSelected:()=>Z(!0)})]}),!j&&(null==k?void 0:k.length)===0&&!o&&(0,i.jsx)("div",{className:"mt-10",children:(0,i.jsx)(w.u,{headline:(0,i.jsx)(r.Z,{defaultMessage:"Ready for your first chat?",id:"itY1RkbkQZ"}),description:(0,i.jsx)(r.Z,{defaultMessage:"Talk to Claude about anything—it’s literally always up for a yap. Chats will show up here.",id:"LprUCGgqBI"}),variant:"chats",ctaLabel:(0,i.jsx)(r.Z,{defaultMessage:"New chat",id:"ATDyLPIoxz"}),onCtaClick:()=>null==n?void 0:n.push("/new")})}),(0,i.jsx)("div",{ref:U,className:(0,f.Z)("h-[calc(100vh-224px)] min-h-[300px] overflow-auto px-2 -mx-2",0===K.length&&"hidden"),children:(0,i.jsx)("ul",{style:{height:"".concat(X.getTotalSize()+4*$,"px"),width:"100%",position:"relative"},className:(0,f.Z)("flex flex-col mb-10",B&&"max-sm:ml-1 transition-all"),children:X.getVirtualItems().map(e=>{let t=K[e.index];return(0,i.jsx)("li",{style:{position:"absolute",top:4,left:0,right:0,height:"".concat(e.size,"px"),transform:"translateY(".concat(e.start+4*e.index,"px)")},children:t?(0,i.jsx)(E,{conversation:t,isSelected:Q.findIndex(e=>{let{uuid:n}=e;return n===t.uuid})>-1,onConversationSelected:(e,n)=>Y({uuid:t.uuid,type:"conversation"},e,n),isInSelectionMode:B,hasBeenShared:F.has(t.uuid)}):(0,i.jsx)("div",{className:"flex justify-center w-full",children:(0,i.jsx)(v.z,{variant:"secondary",className:"w-full",onClick:()=>l(!0),children:(0,i.jsx)(r.Z,{defaultMessage:"View all",id:"pFK6bJU0EM"})})})},t?t.uuid:"view-all-btn")})})}),(0,i.jsx)(d.p,{isOpen:z,isDeleting:P,modalTitle:t.formatMessage({defaultMessage:"Delete {count, plural, one {# chat} other {# chats}}?",id:"u4UvexeGcg"},{count:Q.length}),modalText:t.formatMessage({defaultMessage:"Are you sure you want to permanently delete {count, plural, one {this chat} other {these chats}}? This cannot be undone.",id:"oUQNLoQUff"},{count:Q.length}),progress:I,onClose:e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),Z(!1)},onConfirm:async e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),await R(Q.map(e=>{let{uuid:t}=e;return t})),Z(!1),G(!1)}})]})},E=e=>{let{conversation:t,isSelected:n,onConversationSelected:a,isInSelectionMode:r,hasBeenShared:o}=e;return(0,i.jsx)(S,{itemName:"chat",isSelected:n,isInSelectionMode:r,handleSelect:(e,t)=>a(e,t),checkboxOffset:"l-0",children:(0,i.jsx)("div",{className:(0,f.Z)("rounded-xl select-none border-0.5 border-transparent",r&&"hover:border-accent-secondary-100 hover:bg-accent-secondary-900/10"),onClick:e=>{r&&a(!n,e.shiftKey)},children:(0,i.jsx)(b.h,{isSelected:n,disabled:r,conversation:t,hasBeenShared:o})})})};function Z(){return(0,i.jsxs)("div",{className:"max-h-screen overflow-y-hidden",children:[(0,i.jsxs)(l.PageHeader,{narrow:!0,large:!0,mdTitle:(0,i.jsx)(r.Z,{defaultMessage:"Your chat history",id:"lkPn+Jl3Nw"}),children:[(0,i.jsx)("div",{}),(0,i.jsx)(o.$,{href:"/new",variant:"primary",prepend:(0,i.jsx)(a.v,{weight:"bold",size:16}),children:(0,i.jsx)(r.Z,{defaultMessage:"New chat",id:"ATDyLPIoxz"})})]}),(0,i.jsxs)(s.J,{narrow:!0,children:[(0,i.jsx)("h1",{className:"font-copernicus text-text-200 mb-4 flex items-center gap-1.5 text-center text-2xl font-medium leading-tight tracking-tight md:hidden",children:(0,i.jsx)(r.Z,{defaultMessage:"Your chat history",id:"lkPn+Jl3Nw"})}),(0,i.jsx)(z,{})]})]})}},80700:function(e,t,n){"use strict";n.d(t,{$:function(){return c}});var i=n(27573),a=n(70354),r=n(32737),o=n(85069),s=n(88755),l=n(40950);function c(e){let{children:t,disabledReason:n,...c}=e,d=(0,s.Q)(o.t6),u=(0,l.Z)(),v={defaultMessage:t.props.defaultMessage,id:t.props.id};if(!d)return(0,i.jsx)(r.u,{tooltipContent:n,side:"bottom",children:(0,i.jsx)("div",{children:(0,i.jsx)(a.z,{...c,children:t})})});let m=u.formatMessage(v);return(0,i.jsx)(r.u,{tooltipContent:null!=n?n:m,side:"bottom",children:(0,i.jsx)("div",{children:(0,i.jsx)(a.z,{...c,size:"icon_sm"})})})}},4703:function(e,t,n){"use strict";n.d(t,{h:function(){return y}});var i=n(27573),a=n(28803),r=n(6415),o=n(3053),s=n(70354),l=n(21230),c=n(32737),d=n(21535),u=n(63738),v=n(10607),m=n(68425),g=n(43290),f=n(88146),p=n(7653),_=n(40950),h=n(45790),x=n(32559),b=n(99138);let y=e=>{let{conversation:t,hideProject:n=!1,isSelected:d,disabled:m,hasBeenShared:x}=e,y=(0,_.Z)(),[j,S]=(0,p.useState)(!1),{mutate:C}=(0,a.j1)(),{track:N}=(0,o.z$)(),{isIntersecting:M,ref:z}=(0,b.Q)({threshold:.5}),E=(0,p.useMemo)(()=>g.ou.fromISO(t.updated_at),[t.updated_at]);return(0,i.jsxs)("div",{ref:z,className:(0,v.Z)("group relative",m&&"pointer-events-none"),children:[(0,i.jsx)(f.default,{href:"/chat/".concat(t.uuid),onClick:()=>{N({event_key:"claudeai.conversation.recent.opened",conversation_uuid:t.uuid})},className:(0,v.Z)("\n          border-0.5\n          text-md\n          flex\n          cursor-pointer\n          overflow-x-hidden\n          text-ellipsis\n          whitespace-nowrap\n          rounded-xl\n          bg-gradient-to-b\n          py-4\n          pl-5\n          pr-4\n          transition-all\n          ease-in-out\n          hover:shadow-sm\n          active:scale-[0.98]\n        ",d?"from-accent-secondary-900/10 to-accent-secondary-900/5 border-accent-secondary-100":"from-bg-100 to-bg-100/30 border-border-300 hover:from-bg-000 hover:to-bg-000/80 hover:border-border-200"),children:(0,i.jsxs)("div",{className:"w-full",children:[(0,i.jsx)("div",{className:"text-base font-normal truncate",children:t.name||(0,i.jsx)(h.Z,{defaultMessage:"Untitled",id:"3kbIhS7KZS"})}),(0,i.jsxs)("div",{className:"flex min-h-5 items-center gap-1.5",children:[(0,i.jsxs)("div",{className:"text-text-400 text-xs",children:[(0,i.jsx)(h.Z,{defaultMessage:"Last message",id:"ls9fov3n6A"}),"\xa0",(0,i.jsx)(l.i,{datetime:E,locale:y.locale}),"\xa0",!n&&M&&t.project_uuid&&(0,i.jsx)(w,{projectUuid:t.project_uuid})]}),M&&x&&(0,i.jsx)(k,{})]})]})}),!d&&!m&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.p,{isOpen:j,onClose:e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),S(!1)},onConfirm:e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),C({uuid:t.uuid,projectUuid:t.project_uuid}),S(!1)}}),(0,i.jsx)(c.u,{tooltipContent:y.formatMessage({defaultMessage:"Delete chat",id:"ngIzbjIFxF"}),children:(0,i.jsx)(s.z,{className:" z-2 !absolute top-2 right-2 p-2 rounded-lg transition duration-300 opacity-0 translate-x-1 ease-in-out group-hover:translate-x-0 group-hover:opacity-100 ",onClick:e=>{e.preventDefault(),e.stopPropagation(),S(!0)},"aria-label":y.formatMessage({defaultMessage:"Delete conversation",id:"9eR0QpHCt3"}),variant:"ghost",size:"unset",children:(0,i.jsx)(u.r,{size:14})})})]})]})};function w(e){let{projectUuid:t}=e,{data:n}=(0,x.Yc)(t);return!n||n.is_harmony_project?null:(0,i.jsx)(m.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.1},className:"inline-block",children:(0,i.jsx)(h.Z,{defaultMessage:"in {projectName}",id:"qODl/MZlGS",values:{projectName:(0,i.jsxs)("div",{className:"-translate-y-px ml-0.5 inline-flex items-center gap-0.5 align-middle",children:[(0,i.jsx)(d.j,{size:12}),null==n?void 0:n.name]})}})})}function k(){return(0,i.jsx)("div",{className:"bg-bg-300 text-text-300 flex h-4 items-center rounded-md translate-y-px px-1 text-[0.625rem] font-medium",children:(0,i.jsx)(h.Z,{defaultMessage:"Shared",id:"kWI6zXRaHY"})})}},76742:function(e,t,n){"use strict";n.d(t,{M:function(){return a}});var i=n(7653);let a=(e,t)=>{let[n,a]=(0,i.useState)(!1),[r,o]=(0,i.useState)([]),s=(n,i)=>{t||o(t=>{if(!i||0===Object.keys(t).length)return[...t,n];let a=t[Object.keys(t).length-1],r=e.findIndex(e=>{let{uuid:t,type:n}=e;return t===a.uuid&&n===a.type});if(-1===r)return[...t,n];let o=e.findIndex(e=>{let{uuid:t}=e;return t===n.uuid}),s=e.slice(Math.min(r+1,o),Math.max(r-1,o)+1),l=t.map(e=>{let{uuid:t}=e;return t});return[...t,...s.filter(e=>{let{uuid:t}=e;return -1===l.indexOf(t)})]})},l=e=>{t||o(t=>t.filter(t=>{let{uuid:n,type:i}=t;return n!==e.uuid||i!==e.type}))};return(0,i.useEffect)(()=>{a(r.length>0)},[r]),{selectedItems:r,handleSelect:(e,n,i)=>{t||(n?s(e,i):l(e))},selectAllItems:()=>{t||o(e)},isInSelectionMode:!t&&n,toggleSelectMode:e=>{a(e),e||o([])}}}},36041:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var i=n(27573),a=n(70354);n(7653);var r=n(45790);let o=e=>{let{isLoading:t,numSelected:n,totalNumItems:o,handleSelectAll:s,handleCancel:l,handleDeleteSelected:c}=e;return(0,i.jsxs)(i.Fragment,{children:[n<o&&(0,i.jsx)(a.z,{variant:"underline",className:"text-sm rounded-md text-accent-secondary-000 mr-2 !opacity-100 h-8",size:"unset",onClick:s,children:(0,i.jsx)(r.Z,{defaultMessage:"Select all",id:"94Fg25VD0N"})}),(0,i.jsx)(a.z,{size:"sm",variant:"secondary",onClick:l,children:(0,i.jsx)(r.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,i.jsx)(a.z,{size:"sm",variant:"danger",disabled:0===n,onClick:c,loading:t,children:(0,i.jsx)(r.Z,{defaultMessage:"Delete <hidden>{space}Selected</hidden>",id:"QE60Po3yK8",values:{space:(0,i.jsx)(i.Fragment,{children:"\xa0"}),hidden:e=>(0,i.jsxs)("span",{className:"max-sm:hidden",children:[" ",e]})}})})]})}},80414:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var i=n(27573),a=n(10607);function r(e){let{children:t,className:n,narrow:r}=e;return(0,i.jsx)("main",{className:(0,a.Z)("mx-auto mt-4 w-full flex-1 px-4 md:pl-8 lg:mt-6",r?"max-w-4xl":"max-w-7xl",n),children:t})}},37607:function(e,t,n){"use strict";n.d(t,{PageHeader:function(){return v}});var i=n(41596),a=n(27573),r=n(9788),o=n(85069),s=n(88755),l=n(10607),c=n(20355);function d(){let e=(0,i._)(["\n  from-bg-100\n  via-bg-100\n  via-65%\n  to-bg-100/0\n  pointer-events-none\n  absolute\n  inset-0\n  -bottom-5\n  z-[-1]\n  bg-gradient-to-b\n  blur-sm\n"]);return d=function(){return e},e}let u=r.q.div(d());function v(e){let{children:t,className:n,contentClassName:i,sticky:r,fixed:d,mdTitle:v,large:m,narrow:g}=e,{isMobile:f,isExpanded:p}=(0,c.S)(),_=(0,s.Q)(o.t6),h=!t&&!v,x=m&&!_;return(0,a.jsxs)("header",{className:(0,l.Z)("flex w-full bg-bg-100",r&&"sticky top-0 z-header",d&&"fixed top-0 z-header",_?o.eM:"h-12",_&&[!p&&"pl-[133px]",!h&&o.Gg],x&&["mx-auto md:h-24 md:items-end",g?"max-w-4xl":"max-w-7xl"],n),"aria-hidden":h,children:[!_&&(r||d)&&(0,a.jsx)(u,{}),(0,a.jsx)("div",{className:(0,l.Z)("flex w-full items-center justify-between gap-4",_?"pt-0.5":"",_&&!p?"pl-3":"pl-11 lg:pl-8",_&&!(f&&p)&&"draggable",i,x?"px-4 md:pl-8":"pr-3"),children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:(0,l.Z)("text-text-200 flex items-center gap-2 text-center font-medium leading-tight tracking-tight max-md:hidden min-w-0",!_&&"font-copernicus",!_&&(x?"text-2xl":"text-lg")),children:(0,a.jsx)("span",{className:"truncate",children:v})}),(0,a.jsx)("div",{}),t]}):t})]})}},71923:function(e,t,n){"use strict";n.d(t,{w:function(){return d}});var i=n(27573),a=n(5984),r=n(67578),o=n(29860),s=n.n(o),l=n(81695),c=n(7653);let d=e=>{var t;let{placeholder:n}=e,o=(0,c.useRef)(null),d=(0,l.useSearchParams)(),u=(0,c.useMemo)(()=>s()(e=>{let t=new URLSearchParams(d);t.set("search",e),window.history.replaceState(null,"","?".concat(t.toString()))},300),[d]);return(0,c.useEffect)(()=>(o.current&&o.current.focus(),()=>{u.cancel()}),[u]),(0,c.useEffect)(()=>{let e=e=>{var t,n,i,a;"/"===e.key&&(null===(t=document.activeElement)||void 0===t?void 0:t.tagName)!=="INPUT"&&(null===(n=document.activeElement)||void 0===n?void 0:n.tagName)!=="TEXTAREA"&&(e.preventDefault(),null===(i=o.current)||void 0===i||i.focus()),"Escape"===e.key&&(null===(a=o.current)||void 0===a||a.blur())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,i.jsx)(a.oi,{ref:o,className:"w-full",size:"lg",defaultValue:null!==(t=d.get("search"))&&void 0!==t?t:"",placeholder:n,prepend:(0,i.jsx)(r.Y,{size:16}),onChange:e=>{u(e.target.value)}})}},20355:function(e,t,n){"use strict";n.d(t,{A:function(){return v},S:function(){return u}});var i=n(27573),a=n(44512),r=n(1133),o=n(6385),s=n(33974),l=n(44053),c=n(7653);let d=(0,c.createContext)({isExpanded:!1,setIsExpanded:()=>void 0,closeSidebarOnMobile:()=>void 0,isMobile:!1});function u(){return(0,c.useContext)(d)}function v(e){let{children:t}=e,[n,u]=(0,a.n)(o.cn.SIDEBAR_PINNED,!1),[v,m]=(0,a.n)(o.cn.SIDEBAR_VISIBLE_ON_LOAD,!1),{width:g}=(0,s.n)(),f=0===g?!v:g<1024,[p,_]=c.useState(v&&n);(0,l.s)("keydown",e=>{var t;let n=(0,r.V5)()?e.metaKey:e.ctrlKey;(null===(t=e.key)||void 0===t?void 0:t.toLowerCase())==="."&&n&&(e.preventDefault(),_(e=>!e))});let h=(0,c.useMemo)(()=>({isExpanded:p,setIsExpanded:e=>{_(e),f||u(e)},closeSidebarOnMobile:()=>{f&&p&&_(!1)},isMobile:f}),[p,_,f,u]);return(0,c.useEffect)(()=>{f?(m(!1),_(!1)):(m(!0),_(n))},[f,m,_,n]),(0,i.jsx)(d.Provider,{value:h,children:t})}},99138:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});var i=n(99586),a=n(7653);function r(e){var t;let{ref:n,entry:r}=(0,i.s)(e),o=(0,a.useRef)(!1);return(null==r?void 0:r.isIntersecting)&&(o.current=!0),{ref:n,isIntersecting:o.current||null!==(t=null==r?void 0:r.isIntersecting)&&void 0!==t&&t,entry:r}}},6415:function(e,t,n){"use strict";n.d(t,{p:function(){return u}});var i=n(27573),a=n(70354),r=n(52939),o=n(10607),s=n(7653);let l=s.forwardRef((e,t)=>{let{value:n,className:a}=e,r=Math.round(100*Math.min(Math.max(n,0),1));return(0,i.jsx)("div",{ref:t,role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,className:(0,o.Z)("w-full h-1 bg-bg-400 rounded-full overflow-hidden",a),children:(0,i.jsx)("div",{className:"h-full bg-accent-main-100 rounded-full transition-all duration-300 ease-in-out",style:{width:"".concat(r,"%")}})})});l.displayName="Progress";var c=n(40845),d=n(45790);let u=e=>{let{isOpen:t=!1,onClose:n,onConfirm:o,modalTitle:u=(0,i.jsx)(d.Z,{defaultMessage:"Delete chat?",id:"M16o5rLckO"}),modalText:v=(0,i.jsx)(d.Z,{defaultMessage:"Are you sure you want to delete this chat?",id:"eoF+zSJr4t"}),isDeleting:m=!1,progress:g=0}=e,f=(0,s.useCallback)(e=>{"Enter"!==e.key||m||o()},[o,m]);return(0,s.useEffect)(()=>(t&&window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f)}),[t,f]),(0,i.jsxs)(r.u_,{title:u,isOpen:t,onClose:n,children:[(0,i.jsx)("div",{className:"mt-1 mb-2",children:v}),m&&g>0&&(0,i.jsx)(l,{value:g}),(0,i.jsxs)(r.dm,{children:[(0,i.jsx)(a.z,{variant:"danger","data-testid":"delete-modal-confirm",onClick:o,disabled:m,children:m?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.t,{className:"inline-block mr-1 animate-spin",size:14}),(0,i.jsx)(d.Z,{defaultMessage:"Deleting...",id:"noZdV2GAKj"})]}):(0,i.jsx)(d.Z,{defaultMessage:"Delete",id:"K3r6DQW7h+"})}),(0,i.jsx)(a.z,{variant:"secondary",onClick:n,children:(0,i.jsx)(d.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}},80573:function(e,t,n){"use strict";n.d(t,{$:function(){return a}});var i=n(87033);let a=()=>{let{value:e}=(0,i.FL)("claude_ai_segment_enabled");return e}},3053:function(e,t,n){"use strict";n.d(t,{YZ:function(){return h},q$:function(){return x},z$:function(){return _}});var i=n(30947),a=n(6385),r=n(87033),o=n(99586),s=n(7653),l=n(80573),c=n(5362),d=n(8571),u=n(50862),v=n(60705),m=n(27218),g=n(91447),f=n(25304);let p={snippets_command_used:{version:1},file_upload_too_large:{version:1},sse_interrupted:{version:1},snippets_suggestion_selected:{version:1},payment_modal_open:{version:1},pro_waitlist_requested:{version:1},payment_state_poll_for_invoice:{version:1},payment_state_poll_for_payment:{version:1},payment_state_poll_for_capability:{version:1},payment_state_payment_requires_confirmation:{version:1},payment_state_payment_failed:{version:1},payment_state_success:{version:1},payment_state_timed_out:{version:1},"onboarding.pubsec_system_use.started":{version:1},"onboarding.phone_verification.start":{version:1},"onboarding.phone_verification.sent_code":{version:1},"onboarding.phone_verification.invalid_code":{version:1},"onboarding.phone_verification.verified_code":{version:1},"onboarding.age_verification.start":{version:1},"onboarding.age_verification.complete":{version:1},"onboarding.name_input.started":{version:1},"onboarding.name_input.finished":{version:1},"onboarding.acceptable_use.started":{version:1},"onboarding.acceptable_use.finished":{version:1},"onboarding.disclaimers.started":{version:1},"onboarding.disclaimers.finished":{version:1},"onboarding.started":{version:1},"onboarding.completed":{version:1},"extended_onboarding.started":{version:1},"extended_onboarding.disclaimer.completed":{version:1},"extended_onboarding.name_input.completed":{version:1},"extended_onboarding.work_function.completed":{version:1},"extended_onboarding.drive_integration.started":{version:1},"extended_onboarding.drive_integration.skipped":{version:1},"extended_onboarding.drive_integration.completed":{version:1},"extended_onboarding.gmail_integration.started":{version:1},"extended_onboarding.gmail_integration.skipped":{version:1},"extended_onboarding.gmail_integration.completed":{version:1},"extended_onboarding.gcal_integration.started":{version:1},"extended_onboarding.gcal_integration.skipped":{version:1},"extended_onboarding.gcal_integration.completed":{version:1},"extended_onboarding.all_integrations.skipped":{version:1},"extended_onboarding.all_integrations.completed":{version:1},"extended_onboarding.topics.completed":{version:1},"extended_onboarding.example_prompts.completed":{version:1},"extended_onboarding.completed":{version:1},"extended_onboarding.hear_about.completed":{version:1},"extended_onboarding.hear_about.source_selected":{version:1},"extended_onboarding.hear_about.skipped":{version:1},"pro_subscription.upgraded_to_annual":{version:1},"pro_subscription.upgraded_to_max":{version:1},"max_subscription.downgraded_to_max":{version:1},"max_subscription.downgraded_to_pro":{version:1},"chat.conversation.first_conversation_created":{version:1},"chat.conversation.too_long_prompt:loaded":{version:1},"chat.conversation.too_long_prompt:accepted":{version:1},"chat.conversation.too_long_prompt:dismissed":{version:1},"chat.conversation.too_long_prompt_warning:loaded":{version:1},"chat.conversation.too_long_prompt_warning:accepted":{version:1},"chat.conversation.too_long_prompt_warning:dismissed":{version:1},"chat.share.button.clicked":{version:1},"chat.share.modal.share_button.clicked":{version:1},"chat.share.modal.unshare_button.clicked":{version:1},"chat.share.open_link.clicked":{version:1},"chat.share.copy_link.clicked":{version:1},"ts.eu_election_banner.shown":{version:1,data_team_tag:"ts"},"ts.banner.shown":{version:1,data_team_tag:"ts"},"billing.credit_card.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.contact_sales.completed":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.contact_sales.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.payment_info.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.payment_info.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.setup_billing.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.setup_billing.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire_manual.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.select_plan.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.select_plan.completed":{version:1,data_team_tag:"billing_funnel"},"console.feedback.opened":{version:1},"console.feedback.submitted":{version:1},"evals.revision.created":{version:1},"evals.show_prompt_preview.toggled":{version:1},"evals.show_golden_answers.toggled":{version:1},"evals.run_all.submitted":{version:1},"evals.run_all.stopped":{version:1},"evals.test_case.run.submitted":{version:1},"evals.test_case.run.completed":{version:1},"evals.test_case.run.failed":{version:1},"evals.test_case.create.submitted":{version:1},"evals.test_case.delete.submitted":{version:1},"evals.select_revision.clicked":{version:1},"evals.test_case.update_rating.submitted":{version:1},"evals.test_case.import.show_modal.clicked":{version:1},"evals.test_case.import.browse.clicked":{version:1},"evals.test_case.import.success":{version:1},"evals.comparison.add_button.clicked":{version:1},"evals.comparison.remove_button.clicked":{version:1},"evals.comparison.other_revision.selected":{version:1},"test_case_generator.generate.started":{version:1},"test_case_generator.edit_logic.clicked":{version:1},"metaprompter.modal.loaded":{version:2},"metaprompter.example.selected":{version:1},"metaprompter.generate.started":{version:1},"metaprompter.generate.stop.attempted":{version:1},"metaprompter.generate.finished":{version:1},"metaprompter.start_editing.clicked":{version:1},"onboarding.invite_accept_page.invite_accept.submitted":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.invite_accept_page.invite_reject.submitted":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.invite_accept_page.loaded":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.organization_create.loaded":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.organization_create.submitted":{version:1,data_team_tag:"onboarding_funnel"},"workbench.prompt.new":{version:1},"workbench.completion.started":{version:2},"workbench.completion.finished":{version:2},"workbench.completion_stream.started":{version:1},"workbench.completion_stream.finished":{version:1},"workbench.tab_selection.clicked":{version:1},"workbench.variables_pane.loaded":{version:1},"workbench.examples.pane.loaded":{version:1},"workbench.examples.example.added":{version:2},"workbench.examples.example.deleted":{version:1},"workbench.examples.converted_to_raw_text":{version:1},"workbench.code_modal.opened":{version:1},"workbench.code_modal.code_copied":{version:1},"claudeai.projects.list_view.switched":{version:1},"claudeai.artifacts.execution.error":{version:1},"claudeai.conversation.suggestion.applied":{version:1},"claudeai.conversation.recent.opened":{version:1},"claudeai.projects.activity.shared_conversation.opened":{version:1},"claudeai.projects.project_starter.clicked":{version:1},"claudeai.projects.chat_starter.clicked":{version:1},"claudeai.conversation.artifact.vscode_exported":{version:1},"claudeai.settings.preview_feature.toggled":{version:1},"claudeai.settings.preview_feature.opened":{version:1},"claudeai.support.opened":{version:1},"claudeai.get_help.clicked":{version:1},"claudeai.conversation.feedback.sent":{version:1},"claudeai.conversation.setting.toggled":{version:1},"claudeai.thinking_cell.clicked":{version:1},"ccos.chatsuggestion.clicked":{version:1},"ccos.chatsuggestions.loaded":{version:1},"ccos.chatsuggestions.feedback":{version:1},"styles.selector.clicked":{version:1},"styles.modal":{version:1},"styles.nux.create_clicked":{version:1},"styles.custom.create_clicked":{version:1},"styles.custom.describe_clicked":{version:1},"styles.custom.describe_selected":{version:1},"styles.selected":{version:1},"artifact.feedback.sentiment":{version:1},"artifact.feedback.note":{version:1},"artifact.share_button_clicked":{version:1},"artifact.publish_button_clicked":{version:1},"artifact.share.modal.share_button_clicked":{version:1},"artifact.publish.modal.publish_button_clicked":{version:1},"artifact.studio.create_button_clicked":{version:1},"artifact.studio.create_mode_selected":{version:1},"artifact.studio.remix":{version:1},"artifact.studio.view_full_chat":{version:1},"artifact.studio.copy_prompt":{version:1},"artifact.popover.artifacts_tab_clicked":{version:1},"artifact.popover.dismiss_button_clicked":{version:1},"artifact.popover.dismiss_x_clicked":{version:1},"artifact.interaction.click":{version:1},"artifact.callout.learn_more_clicked":{version:1},"artifact.callout.dismissed":{version:1},"artifact.public.remix":{version:1},"mcp.servers.listed":{version:1},"mcp.servers.connected":{version:1},"mcp.resources.listed":{version:1},"mcp.resources.read":{version:1},"mcp.prompts.listed":{version:1},"mcp.prompts.used":{version:1},"mcp.tools.listed":{version:1},"mcp.tools.called":{version:1},"mcp.sampling.requested":{version:1},"mcp.websocket.transport.connected":{version:1},"mcp.websocket.authfailure":{version:1},"mcp.websocket.transport.reconnected":{version:1},"harmony.file.saved":{version:1},"harmony.suggestion.accepted":{version:1},"harmony.suggestion.rejected":{version:1},"hfi.comparative_model.selected":{version:1},"hfi.comparative_model.selection_cleared":{version:1},"hfi.comparative_model.streaming.started":{version:1},"hfi.comparative_model.streaming.finished":{version:1},"hfi.comparative_model.feedback_bar.switch_response.clicked":{version:1},"hfi.comparative_model.feedback_bar.prefer_response.clicked":{version:1},"apps.download_button_clicked":{version:1},"apps.nudge_banner_shown":{version:1},"apps.nudge_banner_clicked":{version:1},"apps.harmony_directory_synced":{version:1},"console.onboarding.name_and_legal.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.name_and_legal.submitted":{version:1,data_team_tag:"onboarding_funnel"},"tengu.waitlist.update":{version:1},"tengu.waitlist.details":{version:1},"oauth.authorize.approved":{version:1},"oauth.authorize.denied":{version:1},"oauth.authorize.success":{version:1},"oauth.authorize.failure":{version:1},"console.onboarding.account_type.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.account_type.individual_selected":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.account_type.organization_selected":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.organization_details.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.organization_details.submitted":{version:1,data_team_tag:"onboarding_funnel"},"login.account.created":{version:1},"login.email.sending_magic_link":{version:1},"login.email.magic_link_sent":{version:1},"login.email.magic_link_send_error":{version:1},"login.email.verifying_magic_link":{version:1},"login.email.magic_link_success":{version:1},"login.email.magic_link_verification_error":{version:1},"login.email.sso_initiated":{version:1},"login.email.sso_success":{version:1},"login.email.sso_verifying_callback":{version:1},"login.email.sso_verification_error":{version:1},"login.email.verifying_code":{version:1},"login.email.code_verification_error":{version:1},"login.email.finished":{version:1},"login.google.started":{version:1},"login.google.error":{version:1},"login.google.verifying":{version:1},"login.google.verification_error":{version:1},"login.google.finished":{version:1},"landing.section.features.viewed":{version:1},"landing.section.pricing.viewed":{version:1},"spotlight.shown":{version:1},"spotlight.dismissed":{version:1},"spotlight.action_clicked":{version:1},"claudeai.conversation.citation_clicked":{version:1},"claudeai.in_chat_upsell.connect_gdrive.start":{version:1},"claudeai.in_chat_upsell.dismiss":{version:1},"claudeai.cardamom_prompts.category_displayed":{version:1},"claudeai.cardamom_prompts.prompt_displayed":{version:1},"claudeai.cardamom_prompts.prompt_used":{version:1},"artifactinlinefeedback.selection.clicked":{version:1},"claudeai.toast.shown":{version:1},"claudeai.toast.dismissed":{version:1},"claudeai.toast.cta_clicked":{version:1},"claudeai.invite_contest.clicked":{version:1},"claudeai.invite_contest.dismissed":{version:1},"claudeai.notification.permission.request_started":{version:1},"claudeai.notification.permission.result":{version:1}},_=()=>{let{analytics:e}=(0,g.K)(),t=(0,f.T)(),{preferences:n}=(0,u.C)(),i=(0,v.f)(),{value:o}=(0,r.FL)("log_segment_events"),c=(0,l.$)(),{value:_}=(0,r.FL)("send_email_to_segment"),{account:h,activeOrganization:x,isLoading:b}=(0,m.t)(),y=(0,d.Zx)(),w=null==h?void 0:h.uuid,k=null==x?void 0:x.uuid,j=null==x?void 0:x.billing_type,S=null==h?void 0:h.email_address,C=(0,s.useCallback)(t=>{let i=!t&&!h;return!b&&e&&c&&(!i||n.analytics)},[b,e,c,h,n.analytics]),N=(0,s.useCallback)(async(n,r)=>{var s,l,c,d;let{event_key:u,...v}=n,m={account_uuid:null!==(c=null==r?void 0:r.uuid)&&void 0!==c?c:w,organization_uuid:k,billing_type:j,surface:y?"claude-ai":"console",...p[u],...v},g={context:{traits:{email:_?null!==(d=null==r?void 0:r.email_address)&&void 0!==d?d:S:null,userAgent:null===(l=window)||void 0===l?void 0:null===(s=l.navigator)||void 0===s?void 0:s.userAgent,fbc:i.get(a.cn.FBCLID),gclid:i.get(a.cn.GOOGLE_GCL_AW)}}};o&&console.log("[Segment Event] track: ".concat(u),m,g),C(r)&&(await (null==e?void 0:e.track(u,m,g)),null==t||t.track(u,m,g))},[e,t,i,w,k,j,S,y,o,_,C]),M=(0,s.useCallback)(async(n,i)=>{o&&console.log("[Segment Event] identify: ".concat(n),i),C()&&(await (null==e?void 0:e.identify(n,i)),null==t||t.identify(n,i))},[e,t,C,o]),z=(0,s.useCallback)(async(t,n)=>{o&&console.log("[Segment Event] alias: ".concat(n," -> ").concat(t)),C()&&await (null==e?void 0:e.alias(t,n))},[e,C,o]),E=(0,s.useCallback)(async(t,n)=>{var i,a,r;o&&console.log("[Segment Event] page_view: ".concat(t),n),C()&&(null!==(a=null===(i=await (null==e?void 0:e.user()))||void 0===i?void 0:i.id())&&void 0!==a?a:void 0)===(null!==(r=null==h?void 0:h.uuid)&&void 0!==r?r:void 0)&&await (null==e?void 0:e.page(t,n))},[e,C,h,o]);return(0,s.useMemo)(()=>({track:N,identify:M,page:E,alias:z}),[N,M,E,z])},h=(e,t,n,a)=>{let r=_(),{onSuccess:o,onError:s,...l}=a||{};return(0,c.uC)(t,n,{onSuccess(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];r.track({event_key:e,result:"success"}),null==o||o(...n)},onError(t){let n;for(var a=arguments.length,o=Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];t instanceof i.Hx&&(n=t.type),r.track({event_key:e,result:"failure",failure_reason:n}),null==s||s(t,...o)},...l})},x=e=>{var t;let{eventKey:n,threshold:i=.5,freezeOnceVisible:a=!0}=e,{track:r}=_(),l=(0,s.useRef)(!1),{ref:c,entry:d}=(0,o.s)({threshold:i}),u=null!==(t=null==d?void 0:d.isIntersecting)&&void 0!==t&&t;return(0,s.useEffect)(()=>{!u||a&&l.current||(r({event_key:n}),l.current=!0)},[u,r,n,a]),c}},50862:function(e,t,n){"use strict";n.d(t,{ConsentProvider:function(){return g},C:function(){return f}});var i=n(27573),a=n(45144),r=n(7653),o=n(60705),s=n(94872),l=n(53500),c=n(6385),d=n(35919),u=n.n(d),v=n(95407);let m=(0,r.createContext)({showConsentBanner:!1,openConsentBanner:u(),preferences:v.iw,savePreferences:u()}),g=e=>{let{children:t,requiresExplicitConsent:n}=e,[d,u,g]=function(e,t){let n=(0,o.f)(),[i,s]=(0,r.useState)(()=>!!n.get(e)),[l,c]=(0,r.useState)(()=>{try{let i=n.get(e);return i?JSON.parse(i):t}catch(n){return(0,a.Tb)(n,{extra:{message:"Malformed JSON cookie",cookieKey:e}}),t}});return[l,(0,r.useCallback)(t=>{n.set(e,JSON.stringify(t)),c(t),s(!0)},[n,e]),i]}(c.cn.CONSENT_PREFERENCES,n?v.iw:v.DF),[f,p]=(0,r.useState)(n&&!g),_=(0,r.useCallback)(e=>{u(e),(0,s.HF)(e),p(!1),l.u.updateCategories(e)},[u,p]);return(0,i.jsx)(m.Provider,{value:{showConsentBanner:f,openConsentBanner:()=>p(!0),preferences:d,savePreferences:_},children:t})};function f(){return(0,r.useContext)(m)}},27895:function(e,t,n){"use strict";n.d(t,{ErrorsProvider:function(){return h},e:function(){return x},v:function(){return w}});var i=n(27573),a=n(35228),r=n(87033),o=n(97975),s=n.n(o),l=n(55854),c=n.n(l),d=n(78646),u=n.n(d),v=n(81695),m=n(7653),g=n(41270),f=n(27218),p=n(18013);let _=(0,m.createContext)(void 0);function h(e){let{children:t}=e,n=(0,m.useRef)(1),[a,r]=(0,m.useState)([]),o=(0,m.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]),s=(0,m.useCallback)((e,t)=>{let i=n.current++;return r(t=>[...t,{id:i,message:e instanceof Error?e.message:e,toastType:"error"}]),t&&setTimeout(()=>o(i),t),i},[o]),l=(0,m.useCallback)((e,t)=>{let i=n.current++;return r(t=>[...t,{id:i,message:e,toastType:"success"}]),t&&setTimeout(()=>o(i),t),i},[o]),c=(0,m.useMemo)(()=>({toasts:a,addError:s,addSuccess:l,clearToast:o}),[a,s,l,o]);return(0,i.jsx)(_.Provider,{value:c,children:t})}function x(){let e=(0,m.useContext)(_);if(!e)throw Error("Must be called within ErrorsProvider");return e}let b=g.z.object({id:g.z.string().optional().nullable(),title:g.z.string().optional().nullable(),message:g.z.string().optional().nullable(),displayFrequencyHours:g.z.number().optional().nullable()}),y={};function w(){var e;let{id:t,title:n,message:i,displayFrequencyHours:o}=(0,r.xQ)("claude_system_message",y,b),{account:l}=(0,f.t)(),d=null!==(e=null==l?void 0:l.uuid)&&void 0!==e?e:"logged-out",g=(0,v.usePathname)(),[_,h]=(0,p.R)("dismissed-system-messages",{}),x=(0,m.useMemo)(()=>()=>h(e=>{let n=s()(e);return t&&u()(n,[d,t],Date.now()),n}),[h,d,t]);return(0,m.useMemo)(()=>{if(!l||(0,a.cG)(l,!0)||"/download"===g||!t)return!1;let e=c()(_,[d,t]);return!e||"boolean"==typeof e||!!o&&Date.now()-e>=36e5*o},[l,t,d,_,o,g])?{currentSystemMessageId:t,currentSystemMessageTitle:n,currentSystemMessageContent:i,dismissCurrentSystemMessage:x}:{currentSystemMessageId:null,currentSystemMessageTitle:null,currentSystemMessageContent:null,dismissCurrentSystemMessage:()=>null}}},94872:function(e,t,n){"use strict";n.d(t,{HF:function(){return r},bq:function(){return a}});var i=n(45144);let a=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];try{"function"==typeof window.gtag&&gtag(e,...n)}catch(e){(0,i.Tb)(e)}},r=e=>{a("consent","update",o(e))},o=e=>({ad_personalization:e.marketing?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",ad_storage:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",functionality_storage:"granted",personalization_storage:"granted",security_storage:"granted"})},91447:function(e,t,n){"use strict";n.d(t,{K:function(){return s}});var i=n(8571),a=n(87033),r=n(7653),o=n(53500);let s=()=>{let{segmentKey:e,segmentCdnHost:t,segmentApiHost:n}=(0,i.mX)(),{value:s}=(0,a.FL)("requires_explicit_consent"),l=(0,r.useCallback)(()=>{o.u.reset()},[]);return{analytics:o.u.loadIfNecessary({segmentKey:e,segmentCdnHost:t,segmentApiHost:n,requiresExplicitConsent:s}),reset:l}}},25304:function(e,t,n){"use strict";n.d(t,{IsolatedSegmentProvider:function(){return v},T:function(){return m}});var i=n(27573),a=n(80573),r=n(8571),o=n(87033),s=n(44053),l=n(7653);let c=["onboarding.started","extended_onboarding.started","onboarding.completed","chat.conversation.first_conversation_created","payment_state_success"],d={"onboarding.started":"Onboarding Started","extended_onboarding.started":"Onboarding Started","onboarding.completed":"Onboarding Completed","chat.conversation.first_conversation_created":"First Conversation Started",payment_state_success:"Purchase"},u=(0,l.createContext)(null);function v(e){let{children:t}=e,{segmentKey:n,segmentCdnHost:v}=(0,r.mX)(),m=(0,l.useRef)(null),[g,f]=(0,l.useState)(!1),p=(0,l.useRef)([]),{value:_}=(0,o.FL)("log_segment_events"),h=_&&!0,x=(0,a.$)(),b=(0,l.useCallback)(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];h&&console.log("[IsolatedSegmentProvider]",e,...n)},[h]),y=(0,l.useCallback)(()=>{let e=[...p.current];p.current=[],e.forEach(e=>{var t,n;b("Sending message to iframe:",e,p.current),null===(n=m.current)||void 0===n||null===(t=n.contentWindow)||void 0===t||t.postMessage({target:"isolated-segment",...e},"*")})},[b]),w=(0,l.useCallback)(e=>{var t;p.current.push(e),(null===(t=m.current)||void 0===t?void 0:t.contentWindow)&&(g||"init"===e.type)?y():b("iframe not ready, queueing message:",e)},[b,g,y]);(0,s.s)("message",(0,l.useCallback)(e=>{let t=e.data;if("isolated-segment"===t.source)switch(b("Received message from iframe:",t),t.type){case"iframe_ready":b("Iframe ready, initializing Segment with writeKey:",n,"cdnHost:",v),w({type:"init",writeKey:n,cdnHost:v});break;case"segment_initialized":b("Segment in iframe initialized successfully"),f(!0),b("messageQueue when IsolatedSegment is ready",p.current),y(),p.current=[];break;default:b("Message from isolated-segment iframe:",t.type)}},[v,n,b,w,f,y]));let k=(0,l.useCallback)((e,t,n)=>{if(b("Tracking event:",e,t,n),c.includes(e)){let i=d[e]||e;b("Sending event to Facebook Pixel:",e,i,t),w({type:"track",event:i,properties:t,options:n})}},[b,w]),j=(0,l.useCallback)((e,t)=>{b("Identifying user:",e,t),w({type:"identify",userId:e,traits:t})},[b,w]),S=(0,l.useCallback)(()=>{b("Sending ping..."),w({type:"ping"})},[b,w]),C=(0,l.useMemo)(()=>({isReady:g,track:k,identify:j,sendPing:S}),[g,k,j,S]);return(0,i.jsxs)(u.Provider,{value:C,children:[t,x&&(0,i.jsx)("iframe",{ref:m,src:"/isolated-segment.html",style:{display:"none"},referrerPolicy:"no-referrer",sandbox:"allow-scripts allow-same-origin",title:""})]})}function m(){return(0,l.useContext)(u)}},18013:function(e,t,n){"use strict";n.d(t,{A:function(){return r},R:function(){return o}});var i=n(83981),a=n(14418);function r(e,t){return(0,i.X)({key:"SSS-".concat(e),defaultValue:t,serialize:JSON.stringify,deserialize:e=>void 0===e?t:JSON.parse(e)})}function o(e,t){return(0,a.I)({key:"LSS-".concat(e),defaultValue:t,serialize:JSON.stringify,deserialize:e=>void 0===e?t:JSON.parse(e),getInitialValueInEffect:!1,sync:!0})}},9788:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var i=n(10607),a=n(7653);function r(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];let s=t.map(e=>e.replace(/\n/g,"").trim()),l=a.forwardRef((t,n)=>{let{className:o,...l}=t,c=r.map(e=>"function"==typeof e?e(t):e),d=Object.fromEntries(Object.entries(l).filter(e=>{let[t]=e;return!t.startsWith("$")}));return a.createElement(e,{...d,ref:n,className:(0,i.Z)(s,c,"string"==typeof o?o:"")})});return l.displayName="string"==typeof e?e:e.displayName,l}}function o(e){return r(e)}o.a=r("a"),o.aside=r("aside"),o.button=r("button"),o.main=r("main"),o.div=r("div"),o.form=r("form"),o.nav=r("nav"),o.fieldset=r("fieldset"),o.header=r("header"),o.h1=r("h1"),o.h2=r("h2"),o.h3=r("h3"),o.h4=r("h4"),o.h5=r("h5"),o.th=r("th"),o.td=r("td"),o.input=r("input"),o.label=r("label"),o.p=r("p"),o.section=r("section"),o.span=r("span"),o.li=r("li")},52939:function(e,t,n){"use strict";n.d(t,{dm:function(){return m},mH:function(){return g},ol:function(){return f},u_:function(){return p}});var i=n(41596),a=n(27573),r=n(9788),o=n(80151),s=n(67905),l=n(10607),c=n(7653),d=n(70354);function u(){let e=(0,i._)(['\n  fixed\n  z-modal\n  inset-0\n  grid\n  items-center\n  justify-items-center\n  bg-black\n  bg-opacity-50\n  backdrop-brightness-75\n  overflow-y-auto\n  md:p-10\n  p-4\n  data-[state="open"]:animate-[fade_250ms_ease-in_forwards]\n  data-[state="closed"]:animate-[fade_125ms_ease-out_reverse_forwards]\n']);return u=function(){return e},e}function v(){let e=(0,i._)(['\n  flex\n  flex-col\n  focus:outline-none\n  relative\n  text-text-100\n  text-left\n  shadow-xl\n  border-0.5\n  border-border-300\n  rounded-2xl\n  md:p-6\n  p-4\n  align-middle\n  data-[state="open"]:animate-[zoom_250ms_ease-in_forwards]\n  data-[state="closed"]:animate-[zoom_125ms_ease-out_reverse_forwards]\n']);return v=function(){return e},e}function m(e){let{children:t,layout:n="right",className:i}=e;return(0,a.jsx)("div",{className:(0,l.Z)("mt-4 flex flex-col gap-2","left"===n&&"sm:flex-row","center"===n&&"justify-center sm:flex-row","right"===n&&"sm:flex-row-reverse","between"===n&&"justify-between sm:flex-row",i),children:t})}function g(e){let{...t}=e;return(0,a.jsx)(d.z,{...t})}function f(e){let{onClose:t}=e;return(0,a.jsx)("button",{className:"text-text-500 hover:text-text-400 hover:bg-bg-300 -ml-2 rounded-full px-2 py-2 transition-colors",onClick:()=>t(),children:(0,a.jsx)(o.X,{color:"currentColor",size:20})})}function p(e){let{title:t,subtitle:n,isOpen:i,className:r,children:o,onClose:d,icon:u,modalSize:v="md",backgroundColor:m,autoCloseOnFocusOut:g=!0,fullWidth:p=!0,fullHeight:x,hasCloseButton:b=!1,prependBeforeCloseButton:y,overlayChildren:w,overlayClassName:k}=e,[j,S]=(0,c.useState)(!1);(0,c.useEffect)(()=>{S(!0)},[]);let C=e=>{g||e.preventDefault()},[N,M]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{if(i)M(!0);else{let e=window.setTimeout(()=>{M(!1)},125);return setTimeout(()=>{document.body.style.pointerEvents="auto"},300),()=>{window.clearTimeout(e)}}},[i]),j)?(0,a.jsx)(s.fC,{open:i,onOpenChange:e=>{e||d()},children:N&&(0,a.jsx)(s.h_,{forceMount:!0,children:(0,a.jsxs)(_,{forceMount:!0,className:k,children:[(0,a.jsx)(h,{forceMount:!0,onOpenAutoFocus:e=>e.preventDefault(),onInteractOutside:C,onEscapeKeyDown:C,className:(0,l.Z)("min-w-0",r,p&&"w-full",x&&"h-full","sm"===v&&"max-w-sm","md"===v&&"max-w-md","lg"===v&&"max-w-lg","2lg"===v&&"max-w-xl","xl"===v&&"max-w-3xl","3xl"===v&&"max-w-6xl",null!=m?m:"bg-bg-200"),children:(0,a.jsxs)("div",{className:(0,l.Z)("flex flex-col min-h-full",x&&"w-full h-full"),children:[(0,a.jsxs)("div",{className:(0,l.Z)("flex items-center gap-4",t?"justify-between":"justify-end"),children:[t&&(0,a.jsxs)(s.Dx,{className:"font-styrene-display text-text-100 flex w-full min-w-0 items-center text-lg font-medium leading-6 break-words",children:[u&&(0,a.jsx)("span",{className:"mr-2",children:u}),t]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[y,b&&(0,a.jsx)(f,{onClose:d})]})]}),n&&(0,a.jsx)("p",{className:"text-text-400 mb-2 text-sm",children:n}),o]})}),w]})})}):null}let _=(0,r.q)(s.aV)(u()),h=(0,r.q)(s.VY)(v())},21230:function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var i=n(27573),a=n(43290),r=n(7653),o=n(32737);let s={timeZoneName:"short",...a.ou.DATETIME_MED},l=(0,r.memo)(e=>{let{datetime:t,locale:n}=e;return(0,i.jsx)(o.u,{delayDuration:700,side:"bottom",tooltipContent:t.toLocaleString(s),children:(0,i.jsx)("span",{children:t.toRelative({locale:n})})})});l.displayName="RelativeTime"},44512:function(e,t,n){"use strict";n.d(t,{n:function(){return o},p:function(){return r}});var i=n(60705),a=n(7653);let r=e=>{let{shouldFocus:t,target:n,delayMs:i=100}=e;(0,a.useEffect)(()=>{if(t&&n){let e=setTimeout(()=>{var e;null===(e=n.current)||void 0===e||e.focus()},i);return()=>clearTimeout(e)}},[t,n,i])},o=(e,t)=>{let n=(0,i.f)(),r=n.get(e),[o,s]=(0,a.useState)(void 0!==r?"true"===r:t);return[o,(0,a.useCallback)(t=>{s(i=>{let a="function"==typeof t?t(i):t;return n.set(e,a.toString()),a})},[n,e])]}},35228:function(e,t,n){"use strict";n.d(t,{D_:function(){return o},IC:function(){return s},c6:function(){return a},cG:function(){return l},kK:function(){return r},wJ:function(){return i}});let i=e=>{let{account:t,isClaudeDot:n}=e;return n?!1===t.settings.has_finished_claudeai_onboarding:!t.full_name||!t.display_name},a=(e,t)=>t&&!e.is_verified,r=(e,t)=>!!function(e,t){for(let n of e.invites)if(n.organization.capabilities&&n.organization.capabilities.includes(t))return n}(e,t?"raven":"api"),o=(e,t)=>!t&&0===e.invites.length&&0===e.memberships.filter(e=>e.organization.capabilities.includes("api")).length,s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n&&t&&!e.age_is_verified},l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i({account:e,isClaudeDot:t})||a(e,t)||r(e,t)||o(e,t)||s(e,t,n)}},1133:function(e,t,n){"use strict";n.d(t,{ED:function(){return l},Ly:function(){return v},TR:function(){return m},V5:function(){return o},ZQ:function(){return u},r3:function(){return d},tq:function(){return a}});var i=n(7653);function a(){return window.innerWidth<640}let r=/(macintosh|macintel|macppc|mac68k|macos)/i;function o(){let e=window.navigator.userAgent.toLowerCase();return r.test(e)}let s=/(win32|win64|windows|wince)/i;function l(){let e=window.navigator.userAgent.toLowerCase();return s.test(e)}let c=/(iphone|ipad|ipod|android|mobile|webos)/i;function d(){let e=window.navigator.userAgent.toLowerCase();return c.test(e)}function u(e){(0,i.useEffect)(()=>{let t=document.title;return e&&(document.title="".concat(e," - Claude")),()=>{document.title=t}},[e])}let v=e=>{try{return new URL(e).hostname.split(".").slice(-2).join(".")}catch(e){return}},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=v(e);if(n)return"https://www.google.com/s2/favicons?domain=".concat(n,"&sz=").concat(t)}}},function(e){e.O(0,[950,3279,6340,1270,8183,6947,3840,6971,7492,8425,4882,3097,2821,9002,9505,3387,9833,3290,5859,843,6416,7218,3780,9163,1983,1293,1362,1426,1744],function(){return e(e.s=54158)}),_N_E=e.O()}]);